<form [formGroup]="categoryForm" class="w-full flex" (ngSubmit)="addCategory()">
    <div class="flex flex-1 flex-column gap-2">
        <p-card header="Category Management" styleClass="text-center flex justify-content-center bg-purple-300">
            <div class="flex flex-column md:flex-row gap-2">
                <div class="field align-items-center">
                    <input type="text" class="w-full" pInputText name="email" formControlName="amount" placeholder="Enter Category"/>
                </div>
                <div>
                    <!-- Change type to "submit" -->
                    <p-button label="Add Category" type="submit" styleClass="w-full"></p-button>        
                </div>
            </div>        
        </p-card>

        <p-card subheader="Categories">
            <p-table [value]="categories" dataKey="id" [scrollable]="true" scrollHeight="290px" [tableStyle]="{'width': '100%'}" styleClass="p-datatable-striped p-datatable-sm">
                <ng-template pTemplate="header">
                    <tr>
                        <th style="width:10%">Sr.No</th>
                        <th style="width:70%;">Category</th>
                        <th style="width:20%">Action</th>
                    </tr>                    
                </ng-template>

                <ng-template pTemplate="body">
                    <tr>
                        <td>1</td>
                        <td>Food</td>
                        <td>
                            <span class="p-buttonset">
                                <p-button pRipple (click)="showDialog1(1)" label="Edit" icon="pi pi-pencil" size="small"></p-button>
                                <p-button pRipple (click)="showDialog2(1)" label="Delete" icon="pi pi-trash" size="small" severity="danger"></p-button>
                            </span>
                        </td>
                    </tr>                    
                    <tr>
                        <td>2</td>
                        <td>Food</td>
                        <td>
                            <span class="p-buttonset">
                                <p-button pRipple (click)="showDialog1(2)" label="Edit" icon="pi pi-pencil" size="small"></p-button>
                                <p-button pRipple (click)="showDialog2(2)" label="Delete" icon="pi pi-trash" size="small" severity="danger"></p-button>
                            </span>
                        </td>
                    </tr>                    
                    <tr>
                        <td>3</td>
                        <td>Food</td>
                        <td>
                            <span class="p-buttonset">
                                <p-button pRipple (click)="showDialog1(3)" label="Edit" icon="pi pi-pencil" size="small"></p-button>
                                <p-button pRipple (click)="showDialog2(3)" label="Delete" icon="pi pi-trash" size="small" severity="danger"></p-button>
                            </span>
                        </td>
                    </tr>                    
                    <tr>
                        <td>4</td>
                        <td>Food</td>
                        <td>
                            <span class="p-buttonset">
                                <p-button pRipple (click)="showDialog1(4)" label="Edit" icon="pi pi-pencil" size="small"></p-button>
                                <p-button pRipple (click)="showDialog2(4)" label="Delete" icon="pi pi-trash" size="small" severity="danger"></p-button>
                            </span>
                        </td>
                    </tr>                    
                    <tr>
                        <td>5</td>
                        <td>Food</td>
                        <td>
                            <span class="p-buttonset">
                                <p-button pRipple (click)="showDialog1(5)" label="Edit" icon="pi pi-pencil" size="small"></p-button>
                                <p-button pRipple (click)="showDialog2(5)" label="Delete" icon="pi pi-trash" size="small" severity="danger"></p-button>
                            </span>
                        </td>
                    </tr>                    
                    <tr>
                        <td>6</td>
                        <td>Food</td>
                        <td>
                            <span class="p-buttonset">
                                <p-button pRipple (click)="showDialog1(6)" label="Edit" icon="pi pi-pencil" size="small"></p-button>
                                <p-button pRipple (click)="showDialog2(6)" label="Delete" icon="pi pi-trash" size="small" severity="danger"></p-button>
                            </span>
                        </td>
                    </tr>                    
                </ng-template>
            </p-table>
        </p-card>
    </div>
</form>



<!-- modals -->

<p-dialog [(visible)]="visible1" [modal]="true" header="Edit Category">
    <ng-template pTemplate="headless">
        <div class="flex flex-column px-8 py-5 gap-4 bg-purple-500" style="border-radius: 12px;">
            <h1>Edit Category {{Cid}}</h1>
            <div class="flex align-items-center gap-2">
                <p-button label="Sign-In" (click)="closeDialog1()" [text]="true" styleClass="w-full text-primary-50 border-1 border-white-alpha-30 hover:bg-white-alpha-10" class="w-full" ></p-button>
                <p-button label="Cancel" (click)="closeDialog1()" [text]="true"  styleClass="w-full text-primary-50 border-1 border-white-alpha-30 hover:bg-white-alpha-10" class="w-full"></p-button>
            </div>
        </div>
    </ng-template>
</p-dialog>


<p-dialog [modal]="true" [(visible)]="visible2" header="Confirm Deletion">
    <ng-template pTemplate="headless">
        <div class="flex flex-column px-8 py-5 gap-4" style="border-radius: 12px; background-image: radial-gradient(circle at left top, var(--primary-400), var(--primary-700))">
            <h1>Delete Category {{Cid}}</h1>
            <div class="flex align-items-center gap-2">
                <p-button label="Sign-In" (click)="closeDialog2()" [text]="true" styleClass="w-full text-primary-50 border-1 border-white-alpha-30 hover:bg-white-alpha-10" class="w-full" ></p-button>
                <p-button label="Cancel" (click)="closeDialog2()" [text]="true"  styleClass="w-full text-primary-50 border-1 border-white-alpha-30 hover:bg-white-alpha-10" class="w-full"></p-button>
            </div>
        </div>
    </ng-template>
</p-dialog>